<div class="main-panel ps-theme-default">
<app-navbar></app-navbar>
<div class="content">
<!-- uiView:  --><div ui-view="" class="ng-scope"><div class="container-fluid ng-scope">
<div class="row dash_page">
<div class="col-md-4 delive_col">
<div class="card card-stats">
<div class="card-content">
<p class="category text-center">Delivered Orders &nbsp;&nbsp;<strong>{{delivered}}</strong></p>
<h3 class="card-title"></h3>
</div>
</div>
</div>
<!-- <div class="col-md-3 delive_col">
<div class="card card-stats">
<div class="card-content">
<p class="category text-center">Pending Orders &nbsp;&nbsp;<strong>{{statCount.assigned}}</strong></p>
<h3 class="card-title"></h3>
</div>
</div>
</div> -->
<div class="col-md-4 delive_col">
<div class="card card-stats">
<div class="card-content">
<p class="category text-center">Assigned Orders &nbsp;&nbsp;<strong>{{assigned}}</strong></p>
<h3 class="card-title"></h3>
</div>
</div>
</div>
<div class="col-md-4 delive_col">
<div class="card card-stats">
<div class="card-content">
<p class="category text-center">Cancelled Orders &nbsp;&nbsp;<strong>{{cancelled}}</strong></p>
<h3 class="card-title"></h3>
</div>
</div>
</div>
</div>
</div>

<section class="user_sec ng-scope">
<div class="container-fluid">
<div class="col-md-8 sec_col">
<div class="col-md-4 live_col">
<div class="card">
<div class="card-header">
<h5 class="card-title">iOS <a>852 Live Users</a></h5>
<i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i>
</div>
<div class="card-content">
<p class="category">Total Downloads <span> 45</span></p>
<p class="update">Daily Update <span>-34</span></p>
<p class="category">Total Registered Users <span> 1267</span></p>
<p class="update">Daily Update <span class="green">-34</span></p>
</div>
</div>
</div>
<div class="col-md-4 live_col1">
<div class="card">
<div class="card-header">
<h5 class="card-title">Android <a>342 Live Users</a></h5>
<i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i>
</div>
<div class="card-content">
<p class="category">Total Downloads <span> 45</span></p>
<p class="update">Daily Update <span>-34</span></p>
<p class="category">Total Registered Users <span> 1267</span></p>
<p class="update">Daily Update <span class="green">-34</span></p>
</div>
</div>
</div>
<div class="col-md-4 live_col2">
<div class="card">
<div class="card-header">
<div class="prod_sec">
<h5>Total Products</h5>
<p>{{totalProducts}}</p>
</div>
<div class="prod_sec">
<h5>Total Offers</h5>
<p>{{totalOffers}}</p>
</div>
<div class="prod_sec">
<h5>Total Orders</h5>
<p>{{totalOrders}}</p>
</div>
</div>

</div>
</div>
<div class="row order_sec">
<div class="col-md-12">
<div class="card">
<div class="card-content">
<div class="box_tit">
<h4 class="card-title">Orders</h4>
</div>
<div class="material-datatables order_list">
<div class="table-responsive text-nowrap">
<table datatable="ng" class="table table-bordered table-striped table_datatable" id="customerTable">
<thead>
<tr>
<th>Date &amp; Time</th>
<th>Order ID	</th>
<th>Customer ID</th>
<th>Price</th>
<th>Status</th>
<th>Driver</th>
<th>Assignment</th>
</tr>
</thead>
<tbody>
<tr *ngFor="let order of dashOrdersList">
<td class="col_chan">{{order.orderOn}} - {{order.time}}</td>
<td class="col_chan"><a routerLink="/order-details/{{ order.id }}">{{order.orderIDs}}</a> </td>
<td class="col_chan"><a routerLink="/customer/{{ order.userId }}">{{order.customerID}}</a></td>
<td>{{order.grandTotal}}</td>
<td>{{order.orderStatus}}</td>
<td class="driv_btn" *ngIf="order.orderStatus == 'PENDING'">Not Assigned</td>
<td class="col_chan text-center" *ngIf="order.orderStatus != 'PENDING'">{{order.as_driverId}}</td>

<td class="col_chan text-center">{{order.assignment_ID}}</td>
</tr>
</tbody>
</table>
<p class="text-center"><ngb-pagination  [collectionSize]="pages" (pageChange)="nextPage($event)" [(page)]="page" [maxSize]="5" [rotate]="true" [boundaryLinks]="true">
</ngb-pagination></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="col-md-4 noti_sec">
<div class="card">
<div class="card-header">
<h5 class="card-title">Notification</h5>
</div>
<div class="card_content">
<div class="row"  *ngFor="let noti of notification">
<div class="col-md-8">
	<p class="category">{{noti.type}} Updated By {{noti.firstName}} {{noti.drId}}<br>{{noti.textMessage}}</p>
</div>
<div class="col-md-4">
	<p class="text-center"><button>Approve</button></p>
</div>
</div>

</div>
</div>
</div>
</div>
</section>

<section class="vari_sec ng-scope">
<div class="container-fluid">
<div class="row">
<div class="col-md-6">
<div class="card">
<div id="exTab1" class="container-fluid">	
<ul class="nav nav-pills">
<li class="active">
<a href="#1a" data-toggle="tab">Orders Graph</a>
</li>
<li><a href="#2a" data-toggle="tab">Revenue Graph</a>
</li>
</ul>

<div class="tab-content clearfix">
<div class="tab-pane active" id="1a">
<div class="row">
<div class="col-md-12">
	<canvas baseChart 
    [datasets]="lineChartData"
    [labels]="lineChartLabels"
    [options]="lineChartOptions"
    [legend]="lineChartLegend"
    [chartType]="lineChartType"
    [plugins]="lineChartPlugins">
  </canvas>
<br>	
</div>
</div>
</div>
<div class="tab-pane" id="2a">
<div class="row">
<div class="col-md-12">
	<canvas baseChart 
    [datasets]="revenueChartData"
    [labels]="revenueChartLabels"
    [options]="lineChartOptions"
    [legend]="lineChartLegend"
    [chartType]="ChartType"
    [plugins]="lineChartPlugins">
  </canvas>
<br>	
</div>
</div>
</div>

</div>
</div>

</div>
</div>

<div class="col-md-3 dri_sec">
<div class="card">
<div class="card-header">
<div class="row">
<div class="col-md-9 col-10">
<h4 class="card-title">Drivers</h4>
</div>
<div class="col-md-2 col-2">
<form class="search-form ng-pristine ng-valid">
<div class="input-group search-group">
<span><img src="assets/img/search_icon.svg"></span>
<input type="text" (input)="searchDrivers($event.target.value)" class="form-control search-control">
</div>
<!-- /.input-group -->
</form>
</div>
<div class="col-md-1"></div>
</div>
</div>

<div class="card-content store_list">
<div class="row dd_sec" *ngFor = "let driver of driversList">
<div class="col-md-3">
<img src="{{driver.profilePic}}">
</div>
<div class="col-md-9">
<h5>{{driver.drId}}</h5>
<!-- <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> -->
<p>Driver Name: {{driver.firstName}} {{driver.lastName}}</p>
<p>Mobile Number: {{driver.mobileNumber}}</p>
<p>Email: {{driver.email}}</p>
<!-- <p>Success Rate : 85%</p>
<p>Profit : SAR 165.00</p> -->
</div>
</div>
</div>
</div>
</div>

<div class="col-md-3 dri_sec">
	<div class="card">
	<div class="card-header">
	<div class="row">
	<div class="col-md-9 col-10">
	<h4 class="card-title">Stores</h4>
	</div>
	<div class="col-md-2 col-2">
	<form class="search-form ng-pristine ng-valid">
	<div class="input-group search-group">
	<span><img src="assets/img/search_icon.svg"></span>
	<input type="text" (input)="searchStores($event.target.value)" class="form-control search-control">
	</div>
	<!-- /.input-group -->
	</form>
	</div>
	<div class="col-md-1"></div>
	</div>
	</div>
	<div class="card-content store_list">
	<div class="row dd_sec" *ngFor = "let stores of storesList">
	<div class="col-md-3">
	<img src="{{stores.storeImage}}">
	</div>
	<div class="col-md-9">
	<h5><a routerLink="/view-store/{{ stores.id }}">{{stores.storeID}}</a></h5>
	<p>Store Name : {{stores.storeName}}</p>
	<p>Total Orders : {{stores.orders}}</p>
	<!-- <p>Revenue : SAR 5,264.00</p> -->
	<p>Billing : {{stores.billing}}</p>
	</div>
	</div>
	</div>
	</div>
	</div>
</div>
</div>
</section>

<section class="order_graph ng-scope">
<div class="container-fluid">
<div class="row">


<div class="col-md-6">
<div class="card">
<div id="exTab1" class="container-fluid">	
<ul class="nav nav-pills">
<li class="active">
<a href="#5a" data-toggle="tab">Age Graph</a>
</li>
<li><a href="#6a" data-toggle="tab">Gender Graph</a>
</li>
</ul>

<div class="tab-content clearfix">
<div class="tab-pane active" id="5a">
<div class="row">
<div class="col-md-12">
<canvas
baseChart
chartType="bar"
[datasets]="ageChartData"
[labels]="ageChartLabels"
[options]="chartOptions"
[legend]="true">
</canvas>
<br>	
</div>
</div>
</div>
<div class="tab-pane" id="6a">
<div class="row">
<div class="col-md-12">
<canvas
baseChart
chartType="doughnut"
[data]="genderChartData"
[labels]="genderChartLabels"
[options]="chartOptions"
[legend]="true">
</canvas>
<br>	
</div>
</div>
</div>

</div>
</div>

</div>
</div>
<div class="col-md-6">

<section class="feedback_sec ng-scope">
<div class="container-fluid">
<div class="col-md-12">
<div class="card">
<div id="exTab1" class="container-fluid">	
<ul class="nav nav-pills">
<li class="active"><a href="#1d" data-toggle="tab">User Feedback</a></li>
<li><a href="#2d" data-toggle="tab">App Feedback</a></li>
<!-- <li><a href="#3d" data-toggle="tab">Driver Feedback</a></li>
<li class="all_feed"><a href="">View All User Feedbacks</a></li> -->
</ul>

<div class="tab-content clearfix">
<div class="tab-pane active" id="1d">
<div class="material-datatables">
<div class="table-responsive text-nowrap">
<table datatable="ng" class="table table-bordered table-striped table_datatable" id="customerTable">
<thead>
<tr>
<!-- <th>Date &amp; Time</th>
<th>Store ID</th>
<th>Order ID</th>
<th>Customer ID</th>
<th>Driver ID</th>
<th>Price</th> -->
<th>Driver Rating</th>
<th>Product Raiting</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr *ngFor="let feed of feedback">
<!-- <td class="col_chan">7/6/20 - 7:43pm</td>
<td class="col_chan">#Store_ID </td>
<td class="col_chan">#Order_ID</td>
<td>#Customer_ID</td>
<td>#Driver_ID</td>
<td>SAR 628.00</td> -->
<td>
<ngb-rating [(rate)]="selected" [rate]="feed.driverRating" class="rating-star-point" (hover)="hovered=$event" (leave)="hovered=0"></ngb-rating>
</td>
<td>
<ngb-rating [(rate)]="selected" [rate]="feed.productRating" class="rating-star-point" (hover)="hovered=$event" (leave)="hovered=0"></ngb-rating>
</td>
<td>{{feed.commemts}}</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="tab-pane" id="2d">
<div class="material-datatables">
<div class="table-responsive text-nowrap">
<table datatable="ng" class="table table-bordered table-striped table_datatable" id="customerTable">
<thead>
<tr>
<th>Application</th>
<th>Raiting</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr *ngFor="let appFeed of appFeedback">
<td>{{appFeed.apps}}</td>
<td>
<ngb-rating [(rate)]="selected" [rate]="appFeed.rating" class="rating-star-point" (hover)="hovered=$event" (leave)="hovered=0"></ngb-rating>
</td>
<td>{{appFeed.commemts}}</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<!-- <div class="tab-pane" id="3d">
<div class="material-datatables">
<div id="DataTables_Table_3_wrapper" class="dataTables_wrapper no-footer"><div class="dataTables_length" id="DataTables_Table_3_length"><label>Show <select name="DataTables_Table_3_length" aria-controls="DataTables_Table_3" class=""><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries</label></div><div id="DataTables_Table_3_filter" class="dataTables_filter"><label>Search:<input type="search" class="" placeholder="" aria-controls="DataTables_Table_3"></label></div><table datatable="ng" class="table table-bordered table-striped table_datatable ng-isolate-scope dataTable no-footer" id="DataTables_Table_3" role="grid" aria-describedby="DataTables_Table_3_info">
<thead>
<tr role="row"><th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Date &amp;amp; Time: activate to sort column descending" style="width: 0px;">Date &amp; Time</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Store ID: activate to sort column ascending" style="width: 0px;">Store ID</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Order ID: activate to sort column ascending" style="width: 0px;">Order ID</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Customer ID: activate to sort column ascending" style="width: 0px;">Customer ID</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Driver ID: activate to sort column ascending" style="width: 0px;">Driver ID</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Price: activate to sort column ascending" style="width: 0px;">Price</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Driver Rating: activate to sort column ascending" style="width: 0px;">Driver Rating</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Product Rating: activate to sort column ascending" style="width: 0px;">Product Rating</th><th class="sorting" tabindex="0" aria-controls="DataTables_Table_3" rowspan="1" colspan="1" aria-label="Comments: activate to sort column ascending" style="width: 0px;">Comments</th></tr>
</thead>
<tbody>
<tr class="odd"><td valign="top" colspan="9" class="dataTables_empty">No data available in table</td></tr></tbody>
</table><div class="dataTables_info" id="DataTables_Table_3_info" role="status" aria-live="polite">Showing 0 to 0 of 0 entries</div><div class="dataTables_paginate paging_simple_numbers" id="DataTables_Table_3_paginate"><a class="paginate_button previous disabled" aria-controls="DataTables_Table_3" data-dt-idx="0" tabindex="0" id="DataTables_Table_3_previous">Previous</a><span></span><a class="paginate_button next disabled" aria-controls="DataTables_Table_3" data-dt-idx="1" tabindex="0" id="DataTables_Table_3_next">Next</a></div></div>
</div>
</div> -->
</div>
</div>


</div>
</div>
</div>
</section>
</div>
</div>
</div>

</section>

<section class="buy_sec ng-scope">
<div class="container-fluid">
<div class="row">
<div class="col-md-4">
<div class="card">
<div id="exTab1" class="container-fluid">	
<ul class="nav nav-pills">
<li class="active">
<a href="#1b" data-toggle="tab">Top Buyer</a>
</li>
<li><a href="#2b" data-toggle="tab">Top Drivers</a>
</li>
<li><a href="#3b" data-toggle="tab">Top Stores</a>
</li>
</ul>

<div class="tab-content clearfix">
<div class="tab-pane active" id="1b">
<div class="row dri_li" *ngFor="let item of customer;">
	<div class="col-md-4">
		<h5>{{item.firstName}} {{item.lastName}}</h5>
	</div>
	<div class="col-md-4">
		<h5><a routerLink="/customer/{{ item.userId }}">{{item.customerID}}</a></h5>
	</div>
	<div class="col-md-4">
		<p>Total Orders : {{item.orders}}</p>
	</div>
</div>
</div>

<div class="tab-pane" id="2b">
<div class="row dri_li" *ngFor="let item of driver;">
<div class="col-md-4">
<img src="{{item.profilePic}}">
</div>
<div class="col-md-8">
<h5>{{item.firstName}} {{item.lastName}}</h5>
<h5>{{item.drId}}</h5>
<p>Total Orders : {{item.orders}}</p>
</div>
</div>
</div>
<div class="tab-pane" id="3b">
<div class="row dri_li" *ngFor="let item of store;">
	<div class="col-md-4">
<img src={{item.storeImage}}>
</div>
<div class="col-md-8">
<h5>{{item.storeName}}</h5>
<h5><a routerLink="/view-store/{{ item.id }}">{{item.storeID}}</a></h5>
<p>Total Orders : {{item.orders}}</p>
<p>Item name: {{item.itemName}}</p>
</div>
</div>

</div>

</div>
</div>
</div>
</div>

<div class="col-md-4">
<div class="card">
<div class="card-header">
	<div class="row">
		<div class="col-md-8">
<div class="prod_sale_head">
<h4>Top Products Sales</h4>
</div>
</div>
<div class="col-md-4">
	<a routerLink="/product-stats"><button class="prod_stat_btn">Product Stats</button></a>
</div>
</div>
	</div>
<div class="row">
	<div class="col-md-2"></div>
 <div class="col-md-4">
 <div class="form-group">
 <input type="text" bsDatepicker  placeholder="From Date"  (bsValueChange) ="salesvalueFrom($event)" [bsConfig]="{dateInputFormat: 'DD-MM-YYYY'}" readonly   [outsideClick] = "true"  class="form-control datepicker">
 </div>
 </div>
 
 <div class="col-md-4">
 <div class="form-group">
 <input type="text" bsDatepicker  placeholder="To Date"  (bsValueChange) ="salesvalueTo($event)" [bsConfig]="{dateInputFormat: 'DD-MM-YYYY'}" readonly   [outsideClick] = "true"  class="form-control datepicker">
 </div>
 </div>
 <div class="col-md-2"></div>
 </div>
<canvas baseChart 
	[datasets]="barChartData" 
	[labels]="barChartLabels" 
	[options]="barChartOptions"
	[legend]="barChartLegend" 
	[chartType]="barChartType">
	</canvas>
</div>
</div>

<div class="col-md-4">
<div class="card">
<div id="exTab1" class="container-fluid">	
<ul class="nav nav-pills">
<li class="active">
<a href="#1c" data-toggle="tab">Heatmap - Data</a>
</li>
<li><a href="#2c" data-toggle="tab">Heatmap - Map View</a>
</li>
</ul>

<div class="tab-content clearfix">
<div class="tab-pane active order_list" id="1c">
	<div class="row">
		<div class="col-md-2"></div>
	 <div class="col-md-4">
	 <div class="form-group">
	 <input type="text" bsDatepicker  placeholder="From Date"  (bsValueChange) ="heatvalueFrom($event)" [bsConfig]="{dateInputFormat: 'DD-MM-YYYY'}" readonly   [outsideClick] = "true"  class="form-control datepicker">
	 </div>
	 </div>
	 
	 <div class="col-md-4">
	 <div class="form-group">
	 <input type="text" bsDatepicker  placeholder="To Date"  (bsValueChange) ="heatvalueTo($event)" [bsConfig]="{dateInputFormat: 'DD-MM-YYYY'}" readonly   [outsideClick] = "true"  class="form-control datepicker">
	 </div>
	 </div>
	 <div class="col-md-2"></div>
	 </div>
<table>
	<th>Location</th>
	<th>Orders</th>
	<tr *ngFor="let item of maps;">
		<td><p>{{item.addressPinDetails}}</p></td>
		<td class="text-center"><p>{{item.orders}}</p></td>
	</tr>
</table>
</div>
<div class="tab-pane" id="2c">


<agm-map [fitBounds]="true" [zoom]="7">
	<agm-marker *ngFor ="let item of maps" [latitude]= "item.latitude"  
	[longitude]="item.longitude" [agmFitBounds]="true" >
</agm-marker>


</agm-map>
</div>

</div>
</div>
</div>
</div>
</div>
</div></section>

<section class="feedback_sec ng-scope">
<div class="container-fluid">
<div class="col-md-12">
<div class="card">



</div>
</div>
</div>
</section>
</div>
</div>
</div>